if(NOT BUILD_NNAPI_QUICKCHECK)
  return()
endif(NOT BUILD_NNAPI_QUICKCHECK)

file(GLOB_RECURSE NNAPI_QUICKCHECK_LIB_SOURCES "lib/*.cpp")
file(GLOB_RECURSE NNAPI_QUICKCHECK_LIB_TESTS "lib/*.test.cpp")
list(REMOVE_ITEM NNAPI_QUICKCHECK_LIB_SOURCES ${NNAPI_QUICKCHECK_LIB_TESTS})

add_library(nnapi_quickcheck_common ${NNAPI_QUICKCHECK_LIB_SOURCES})
target_include_directories(nnapi_quickcheck_common PUBLIC "inc")
target_link_libraries(nnapi_quickcheck_common nnfw_util)
target_link_libraries(nnapi_quickcheck_common nnfw_support_tflite)

add_executable(nnapi_quickcheck_lib_env_test "lib/env.test.cpp")
target_link_libraries(nnapi_quickcheck_lib_env_test nnapi_quickcheck_common)

function(add_nnapi_quickcheck NAME)
  add_executable(nnapi_quickcheck_${NAME} "tests/${NAME}.cpp")
  nnfw_find_package(GTest)
  target_link_libraries(nnapi_quickcheck_${NAME} gtest gtest_main pthread)
  target_link_libraries(nnapi_quickcheck_${NAME} nnapi_quickcheck_common)
endfunction(add_nnapi_quickcheck)

add_nnapi_quickcheck(add_1)
add_nnapi_quickcheck(add_2)
add_nnapi_quickcheck(add_3)
add_nnapi_quickcheck(add_4)
add_nnapi_quickcheck(add_5)
add_nnapi_quickcheck(add_6)
add_nnapi_quickcheck(add_7)
add_nnapi_quickcheck(add_8)
add_nnapi_quickcheck(add_9)
add_nnapi_quickcheck(add_quan_1)
add_nnapi_quickcheck(div_1)
add_nnapi_quickcheck(div_2)
add_nnapi_quickcheck(sub_1)
add_nnapi_quickcheck(sub_2)
add_nnapi_quickcheck(sub_3)
add_nnapi_quickcheck(sub_4)
add_nnapi_quickcheck(sub_5)
add_nnapi_quickcheck(sub_6)
add_nnapi_quickcheck(mul_1)
add_nnapi_quickcheck(mul_2)
add_nnapi_quickcheck(mul_quan_1)
add_nnapi_quickcheck(relu_1)
add_nnapi_quickcheck(relu_quan_1)
add_nnapi_quickcheck(relu_2)
add_nnapi_quickcheck(relu_3)
add_nnapi_quickcheck(relu6_1)
add_nnapi_quickcheck(relu6_quan_1)
add_nnapi_quickcheck(relu1_1)
add_nnapi_quickcheck(conv_1)
add_nnapi_quickcheck(conv_quan_1)
add_nnapi_quickcheck(dconv_1)
add_nnapi_quickcheck(dconv_quan_1)
add_nnapi_quickcheck(max_pool_1)
add_nnapi_quickcheck(max_pool_quan_1)
add_nnapi_quickcheck(avg_pool_1)
add_nnapi_quickcheck(avg_pool_quan_1)
add_nnapi_quickcheck(concat_1)
add_nnapi_quickcheck(concat_quan_1)
add_nnapi_quickcheck(reshape_1)
add_nnapi_quickcheck(reshape_quan_1)
add_nnapi_quickcheck(fully_connected_1)
add_nnapi_quickcheck(fully_connected_quan_1)
add_nnapi_quickcheck(softmax_1)
add_nnapi_quickcheck(softmax_2)
add_nnapi_quickcheck(softmax_quan_1)
add_nnapi_quickcheck(resize_bilinear_1)
add_nnapi_quickcheck(topk_v2_1)
add_nnapi_quickcheck(cast_1)
add_nnapi_quickcheck(cast_q_to_f_1)
add_nnapi_quickcheck(cast_2)
add_nnapi_quickcheck(gather_1)
add_nnapi_quickcheck(gather_2)
add_nnapi_quickcheck(dequantize_1)
add_nnapi_quickcheck(tanh_1)
add_nnapi_quickcheck(logistic_quan_1)
add_nnapi_quickcheck(split_1)
add_nnapi_quickcheck(split_2)
add_nnapi_quickcheck(split_3)
add_nnapi_quickcheck(split_4)
